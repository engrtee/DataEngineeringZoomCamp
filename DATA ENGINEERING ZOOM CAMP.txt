DATA ENGINEERING ZOOM CAMP

Docker
1.Local experiments
2.Integration Tests(CI/CD)
3.Reproducibility
4.Running pipelines on the cloud
5.Spark
6.Serverless(AWS Lambda,Google)


This works to set up postgres backend. 
docker run -it \
  -e POSTGRES_USER="root" \
  -e POSTGRES_PASSWORD="root" \
  -e POSTGRES_DB="ny_taxi" \
  -v /C/Users/techa/Music/data-engineering-zoomcamp/01-docker-terraform/2_docker_sql/ny_taxi_postgres_data:/var/lib/postgresql/data \
  -p 5432:5432 \
  postgres:13



CLI for Postgres
Installing pgcli

pip install pgcli


$ winpty docker run -it python:3.9

This is to enable python so i can install pandas
 winpty docker run -it --entrypoint=bash python:3.9


To run pg admin
winpty docker run -it \
  -e PGADMIN_DEFAULT_EMAIL="admin@admin.com" \
  -e PGADMIN_DEFAULT_PASSWORD="root" \
  -p 8080:80 \
  dpage/pgadmin4

I could not find dpage at once.
I had to pull the image of dpage with the code below
docker pull dpage/pgadmin4

This command below will now run pgadmin on docker for you
docker run -it \
  -e PGADMIN_DEFAULT_EMAIL="admin@admin.com" \
  -e PGADMIN_DEFAULT_PASSWORD="root" \
  -p 8080:80 \
  dpage/pgadmin4:latest



'To create a network
$ winpty docker network create pg-network


To run postgres now on my system
winpty docker run -it \
  -e POSTGRES_USER="root" \
  -e POSTGRES_PASSWORD="root" \
  -e POSTGRES_DB="ny_taxi" \
  -v /C/Users/techa/Music/data-engineering-zoomcamp/01-docker-terraform/2_docker_sql/ny_taxi_postgres_data:/var/lib/postgresql/data \
  -p 5432:5432 \
  --network=pg-network \
  --name pgadmin-database \
  postgres:13


'to run pg admin on my system
docker run -it \
  -e PGADMIN_DEFAULT_EMAIL="admin@admin.com" \
  -e PGADMIN_DEFAULT_PASSWORD="root" \
  -p 8080:80 \
  --network=pg-network \
  --name pgadmin-2 \
  dpage/pgadmin4